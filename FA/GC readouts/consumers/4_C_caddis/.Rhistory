#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
return(merged)
}
test<-c("4_C_caddis", "7_mirror_caddis", "8_morg_caddis")
a<-FAmerger(test)
View(a)
paste("Reten",substr(dirs.list[1],1,1))
substr(dirs.list[1],1,1)
substr(dir[1],1,1)
substr(test[1],1,1)
paste("Reten",substr(test[1],1,1))
paste("Reten",substr(test[1],1,1), sep="")
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",substr(dirs.list[i],1,1), sep=""), paste("Area",substr(dirs.list[i],1,1)), sep="")
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
return(merged)
}
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",substr(dirs.list[i],1,1), sep=""), paste("Area",substr(dirs.list[i],1,1)), sep="")
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
return(merged)
}
test<-c("4_C_caddis", "7_mirror_caddis", "8_morg_caddis")
a<-FAmerger(test)
test<-c("4_C_caddis", "7_mirror_caddis", "8_morg_caddis")
reports<-list()
X<-as.data.frame(1:98)
colnames(X)<-"X"
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",substr(dirs.list[i],1,1), sep=""), paste("Area",substr(dirs.list[i],1,1)), sep="")
reports[[i]]<-data
}
for(i in 1:length(test))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",substr(test[i],1,1), sep=""), paste("Area",substr(test[i],1,1)), sep="")
reports[[i]]<-data
}
for(i in 1:length(test))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",test[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",substr(test[i],1,1), sep=""), paste("Area",substr(test[i],1,1)), sep="")
reports[[i]]<-data
}
c("Peak", paste("Reten",substr(test[1],1,1), sep=""), paste("Area",substr(test[1],1,1)), sep="")
c("Peak", paste("Reten",substr(test[1],1,1), sep=""), paste("Area",substr(test[1],1,1),sep=""))
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",substr(dirs.list[i],1,1), sep=""), paste("Area",substr(dirs.list[i],1,1),sep=""))
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
return(merged)
}
test<-c("4_C_caddis", "7_mirror_caddis", "8_morg_caddis")
a<-FAmerger(test)
View(a)
dirs<-c("1_mirror_fish","2_mirror_fish","3_C_caddis","4_C_caddis","6_milk_caddis","7_mirror_caddis","8_morg_caddis","9_morg_caddis","10_noname_caddis","11_y015_caddis","12_y025_caddis","13_Z_caddis","90_C_cal","92_O_cal","108_clear_caddis")
x<-FAmerger(dirs)
View(x)
setwd("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/7_mirror_caddis")
MirrorCaddis7<-read.csv("REPORT01.csv")
MirrorCaddis7<-MirrorCaddis7[!is.na(MirrorCaddis7$X),]
MirrorCaddis7<-merge(X,MirrorCaddis7, all.y=T)
MirrorCaddis7<-MirrorCaddis7[,c(1,3,6)]
colnames(MirrorCaddis7)<-c("Peak", "Retention7", "Area7")
setwd("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/8_morg_caddis")
MorgCaddis8<-read.csv("REPORT01.csv")
MorgCaddis8<-MorgCaddis8[!is.na(MorgCaddis8$X),]
MorgCaddis8<-merge(X,MorgCaddis8, all.y=T)
MorgCaddis8<-MorgCaddis8[,c(1,3,6)]
colnames(MorgCaddis8)<-c("Peak", "Retention8", "Area8")
setwd("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/4_C_caddis")
CCaddis4<-read.csv("REPORT01.csv")
CCaddis4<-CCaddis4[!is.na(CCaddis4$X),]
CCaddis4<-merge(X,CCaddis4, all.y=T)
CCaddis4<-CCaddis4[,c(1,3,6)]
colnames(CCaddis4)<-c("Peak", "Retention4", "Area4")
X<-as.data.frame(1:98)
colnames(X)<-"X"
setwd("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/7_mirror_caddis")
MirrorCaddis7<-read.csv("REPORT01.csv")
MirrorCaddis7<-MirrorCaddis7[!is.na(MirrorCaddis7$X),]
MirrorCaddis7<-merge(X,MirrorCaddis7, all.y=T)
MirrorCaddis7<-MirrorCaddis7[,c(1,3,6)]
colnames(MirrorCaddis7)<-c("Peak", "Retention7", "Area7")
setwd("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/8_morg_caddis")
MorgCaddis8<-read.csv("REPORT01.csv")
MorgCaddis8<-MorgCaddis8[!is.na(MorgCaddis8$X),]
MorgCaddis8<-merge(X,MorgCaddis8, all.y=T)
MorgCaddis8<-MorgCaddis8[,c(1,3,6)]
colnames(MorgCaddis8)<-c("Peak", "Retention8", "Area8")
setwd("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/4_C_caddis")
CCaddis4<-read.csv("REPORT01.csv")
CCaddis4<-CCaddis4[!is.na(CCaddis4$X),]
CCaddis4<-merge(X,CCaddis4, all.y=T)
CCaddis4<-CCaddis4[,c(1,3,6)]
colnames(CCaddis4)<-c("Peak", "Retention4", "Area4")
data.list<-list(CCaddis4, MirrorCaddis7, MorgCaddis8)
merged<-Reduce(function (...) {merge(..., all=T)}, data.list)
View(merged)
dirs<-c("1_mirror_fish","2_mirror_fish","3_C_caddis","4_C_caddis","6_milk_caddis","7_mirror_caddis","8_morg_caddis","9_morg_caddis","10_noname_caddis","11_y015_caddis","12_y025_caddis","13_Z_caddis","90_C_cal","92_O_cal","108_clear_caddis")
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",substr(dirs.list[i],1,1), sep=""), paste("Area",substr(dirs.list[i],1,1),sep=""))
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
return(merged)
}
x<-FAmerger(dirs)
View(x)
dirs.list<-c("1_mirror_fish","2_mirror_fish","3_C_caddis","4_C_caddis","6_milk_caddis","7_mirror_caddis","8_morg_caddis","9_morg_caddis","10_noname_caddis","11_y015_caddis","12_y025_caddis","13_Z_caddis","90_C_cal","92_O_cal","108_clear_caddis")
substr(dirs.list[3],1,3)
li=list()
li[1] = "djud7+dg[a]hs667"
li[2] = "7fd*hac11(5)"
li[3] = "2tu,g7gka5"
strsplit(unlist(ll), "[^0-9]+"))
strsplit(unlist(ll), "[^0-9]+")
strsplit(unlist(li), "[^0-9]+")
unique(na.omit(as.numeric(unlist(strsplit(unlist(li), "[^0-9]+")))))
substr(dirs.list[3],1,3), sep="")
dirs.list[3],1,3)
substr(dirs.list[3],1,3)
dirs.list[3],1,3
dirs.list[3]
unique(na.omit(as.numeric(unlist(strsplit(unlist(li), "[^0-9]")))))
unique(na.omit(as.numeric(unlist(strsplit(unlist(li), "[^0-9]+")))))
strsplit(dirs.list[3], "[^0-9]")
strsplit(dirs.list[3], "[^0-9]+")
strsplit(dirs.list[15], "[^0-9]+")
as.numeric(strsplit(dirs.list[15], "[^0-9]+"))
strsplit(dirs.list[3], "[^0-9]+")
dirs<-c("1_mirror_fish","2_mirror_fish","3_C_caddis","4_C_caddis","6_milk_caddis","7_mirror_caddis","8_morg_caddis","9_morg_caddis","10_noname_caddis","11_y015_caddis","12_y025_caddis","13_Z_caddis","90_C_cal","92_O_cal","108_clear_caddis")
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",as.numeric(strsplit(dirs.list[15], "[^0-9]+")), sep=""), paste("Area",as.numeric(strsplit(dirs.list[15], "[^0-9]+")),sep=""))
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
return(merged)
}
x<-FAmerger(dirs)
View(x)
dirs<-c("1_mirror_fish","2_mirror_fish","3_C_caddis","4_C_caddis","6_milk_caddis","7_mirror_caddis","8_morg_caddis","9_morg_caddis","10_noname_caddis","11_y015_caddis","12_y025_caddis","13_Z_caddis","90_C_cal","92_O_cal","108_clear_caddis")
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",as.numeric(strsplit(dirs.list[i], "[^0-9]+")), sep=""), paste("Area",as.numeric(strsplit(dirs.list[i], "[^0-9]+")),sep=""))
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
return(merged)
}
x<-FAmerger(dirs)
as.numeric(strsplit(dirs.list[15], "[^0-9]+"))
dirs.list<-c("1_mirror_fish","2_mirror_fish","3_C_caddis","4_C_caddis","6_milk_caddis","7_mirror_caddis","8_morg_caddis","9_morg_caddis","10_noname_caddis","11_y015_caddis","12_y025_caddis","13_Z_caddis","90_C_cal","92_O_cal","108_clear_caddis")
as.numeric(strsplit(dirs.list[15], "[^0-9]+"))
strsplit(dirs.list[15], "[^0-9]+")
dirs<-c("1_mirror_fish","2_mirror_fish","3_C_caddis","4_C_caddis","6_milk_caddis","7_mirror_caddis","8_morg_caddis","9_morg_caddis","10_noname_caddis","11_y015_caddis","12_y025_caddis","13_Z_caddis","90_C_cal","92_O_cal","108_clear_caddis")
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",strsplit(dirs.list[i], "[^0-9]+"), sep=""), paste("Area",strsplit(dirs.list[i], "[^0-9]+"),sep=""))
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
return(merged)
}
x<-FAmerger(dirs)
View(x)
write.csv(x, file=""C:\Users\Mike\Desktop\Grad\Projects\Thesis\Seven Lakes Project 2014\Data\FA\consumer_FA_data.csv")
write.csv(x, file="C:\Users\Mike\Desktop\Grad\Projects\Thesis\Seven Lakes Project 2014\Data\FA\consumer_FA_data.csv")
write.csv(x, file="C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/consumer_FA_data.csv")
View(x)
rownames(x)<-NULL
write.csv(x, file="C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/consumer_FA_data.csv")
write.csv(x, file="C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/consumer_FA_data.csv")
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",strsplit(substr(dirs.list[i],1,3), "[^0-9]+"), sep=""), paste("Area",strsplit(substr(dirs.list[i],1,3), "[^0-9]+"),sep=""))
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
return(merged)
}
x<-FAmerger(dirs)
rownames(x)<-NULL
write.csv(x, file="C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/consumer_FA_data.csv")
length(x[1,])
View(x)
dirs<-c("1_mirror_fish","2_mirror_fish","3_C_caddis","4_C_caddis","6_milk_caddis","7_mirror_caddis","8_morg_caddis","9_morg_caddis","10_noname_caddis","11_y015_caddis","12_y025_caddis","13_Z_caddis","90_C_cal","92_O_cal","108_clear_caddis")
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",strsplit(substr(dirs.list[i],1,3), "[^0-9]+"), sep=""), paste("Area",strsplit(substr(dirs.list[i],1,3), "[^0-9]+"),sep=""))
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
return(merged)
}
x<-FAmerger(dirs)
write.csv(x, file="C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/consumer_FA_data.csv")
is.na(x[2:30],)
is.na(x[2:30,])
View(x)
is.na(x[,2:30])
is.na(x[1,2:30])
x[1,2:30]
is.numeric(x[1,2:30])
apply(x,1,is.numeric)
as.vector(x[1,2:30])
is.numeric(x[1,2:31])
apply(x,1,is.numeric)
sapply(x,1,is.numeric)
sapply(x[1,1:31],1,is.numeric)
sapply(x[1,1:31],is.numeric)
sapply(x[1,2:31],is.numeric)
sum(sapply(x[1,2:31],is.numeric))
sum(sapply(na.omit(x[1,2:31]),is.numeric))
na.omit(x[1,2:31])
sum(sapply(na.omit(x[2,2:31]),is.numeric))
x[2,2:31]
sum(sapply(x[2,2:31],is.numeric))
na.omit(x[2,2:31])
as.vector(x[2,2:31]))
as.vector(x[2,2:31])
is.data.frame(x[2,2:31)
is.data.frame(x[2,2:31])
as.vector(x[2,2:31])
g<-as.vector(x[2,2:31])
is.data.frame(g)
methods(as)
avector <- as.vector(aframe['a2'])
x[[2,2:31]]
x
x[[2]]
x[[2,]]
as.numeric(as.vector(x[2,2:31]))
h<-as.numeric(as.vector(x[2,2:31]))
is.factor(h)
sum(sapply(as.numeric(as.vector(x[2,2:31])),is.numeric))
sum(sapply(na.omit(as.numeric(as.vector(x[2,2:31])),is.numeric)))
sum(sapply(na.omit(as.numeric(as.vector(x[2,2:31]))),is.numeric))
FA.frequency<-vector(length=length(merged[1,]))
merged<-x
FA.frequency<-vector(length=length(merged[1,]))
for(i in 1:length(merged[1,]))
{
FA.frequency[i]<-sum(sapply(na.omit(as.numeric(as.vector(x[i,2:31]))),is.numeric))/2
}
FA.frequency
merged<-cbind(merged,FA.frequency)
merged<-rbind(merged,FA.frequency)
View(merged)
cbind.data.frame
dirs<-c("1_mirror_fish","2_mirror_fish","3_C_caddis","4_C_caddis","6_milk_caddis","7_mirror_caddis","8_morg_caddis","9_morg_caddis","10_noname_caddis","11_y015_caddis","12_y025_caddis","13_Z_caddis","90_C_cal","92_O_cal","108_clear_caddis")
dirs<-c("1_mirror_fish","2_mirror_fish","3_C_caddis","4_C_caddis","6_milk_caddis","7_mirror_caddis","8_morg_caddis","9_morg_caddis","10_noname_caddis","11_y015_caddis","12_y025_caddis","13_Z_caddis","90_C_cal","92_O_cal","108_clear_caddis")
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",strsplit(substr(dirs.list[i],1,3), "[^0-9]+"), sep=""), paste("Area",strsplit(substr(dirs.list[i],1,3), "[^0-9]+"),sep=""))
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
return(merged)
}
x<-FAmerger(dirs)
View(x)
FA.frequency<-vector(length=length(merged[1,]))
for(i in 1:length(merged[1,]))
{
FA.frequency[i]<-sum(sapply(na.omit(as.numeric(as.vector(x[i,2:31]))),is.numeric))/2
}
merged<-x
FA.frequency<-vector(length=length(merged[1,]))
for(i in 1:length(merged[1,]))
{
FA.frequency[i]<-sum(sapply(na.omit(as.numeric(as.vector(x[i,2:31]))),is.numeric))/2
}
FA.frequency
merged[,32]<-FA.frequency
merged[,32]
merged[[32]]
merged[[31]]
merged[[32]]<-FA.frequency
FA.frequency<-vector(length=length(merged[,1]))
for(i in 1:length(merged[,1]))
{
FA.frequency[i]<-sum(sapply(na.omit(as.numeric(as.vector(x[i,2:31]))),is.numeric))/2
}
merged[[32]]<-FA.frequency
View(merged)
colnames(merged[[32]])<-total_appearances
colnames(merged[[32]])<-"total_appearances"
colnames(merged[,32])<-"total_appearances"
colnames(merged[32])<-"total_appearances"
View(merged)
View(merged)
colnames(merged)[32]<-"total_appearances"
View(merged)
dirs<-c("1_mirror_fish","2_mirror_fish","3_C_caddis","4_C_caddis","6_milk_caddis","7_mirror_caddis","8_morg_caddis","9_morg_caddis","10_noname_caddis","11_y015_caddis","12_y025_caddis","13_Z_caddis","90_C_cal","92_O_cal","108_clear_caddis")
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",strsplit(substr(dirs.list[i],1,3), "[^0-9]+"), sep=""), paste("Area",strsplit(substr(dirs.list[i],1,3), "[^0-9]+"),sep=""))
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
#make vector of total appearances of each FA
FA.frequency<-vector(length=length(merged[,1]))
for(i in 1:length(merged[,1]))
{
FA.frequency[i]<-sum(sapply(na.omit(as.numeric(as.vector(x[i,2:31]))),is.numeric))/2
}
#bind vector to "merged"
merged[[32]]<-FA.frequency
colnames(merged)[32]<-"total_appearances"
return(merged)
}
x<-FAmerger(dirs)
FAmerger<-function(dirs.list)
{
#list that will contain each data frame
reports<-list()
#vector X will be used to merge and sort each data frame
X<-as.data.frame(1:98)
colnames(X)<-"X"
#loop through directories and perform data filtering/extraction
for(i in 1:length(dirs.list))
{
data<-read.csv(paste("C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/GC readouts/New folder (2)/",dirs.list[i],"/REPORT01.CSV",sep=""))
data<-data[!is.na(data$X),]
data<-merge(X,data, all.y=T)
data<-data[,c(1,3,6)]
colnames(data)<-c("Peak", paste("Reten",strsplit(substr(dirs.list[i],1,3), "[^0-9]+"), sep=""), paste("Area",strsplit(substr(dirs.list[i],1,3), "[^0-9]+"),sep=""))
reports[[i]]<-data
}
#bind all reports together
merged<-Reduce(function (...) {merge(..., all=T)}, reports)
#make vector of total appearances of each FA
FA.frequency<-vector(length=length(merged[,1]))
for(i in 1:length(merged[,1]))
{
FA.frequency[i]<-sum(sapply(na.omit(as.numeric(as.vector(merged[i,2:31]))),is.numeric))/2
}
#bind vector to "merged"
merged[[32]]<-FA.frequency
colnames(merged)[32]<-"total_appearances"
return(merged)
}
x<-FAmerger(dirs)
View(x)
write.csv(x, file="C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/consumer_FA_data.csv")
write.csv(x, file="C:/Users/Mike/Desktop/Grad/Projects/Thesis/Seven Lakes Project 2014/Data/FA/consumer_FA_data.csv")
